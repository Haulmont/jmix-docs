[[maps]]
= Maps

The add-on helps you to enrich your application with visual representation and intuitive manipulation for spatial data. You can use a preferable map provider that meets your needs.

The component integrates spatial types (point, polyline, polygon) from https://locationtech.github.io/jts/[JTS Topology Suite] (JTS) — the most popular Java library for working with spatial data. 

//The add-on provides all the required features to build a comprehensive geographical information system on Jmix.

The add-on supports a traditional multi-layer structure commonly used in professional GIS systems. The layers are represented as structural units of maps.

You can use the following types of layers:

* xref:raster-layers.adoc#raster-layers[Raster layers] that consist of raster images. Can be provided by xref:map-services.adoc#xyz-tiles[XYZ tiles services] or xref:map-services.adoc#web-map-service[Web Map Services].
* xref:vector-layers.adoc#vector-layers[Vector layers] that contain geo-objects — entities with geometry attributes.

image::structure.png[]

The add-on supports drawing and interactive editing of geo-entities and provides features for geoanalysis: heatmaps and clustering.

[[installation]]
== Installation

To include Maps in your application, follow the steps below.

. Add your Jmix premium repository credentials to the `~/.gradle/gradle.properties` file (create the file if it doesn't exist). For example:
+
[source,properties]
----
premiumRepoUser=123456789012
premiumRepoPass=abcdefghkilm
----

. Add Jmix premium repository to your `build.gradle` file:
+
[source,groovy]
----
repositories {
    jcenter()
    maven {
        url 'https://nexus.jmix.io/repository/public'
    }
    maven {
        url('https://nexus.jmix.io/repository/premium')
        credentials {
            username("${rootProject['premiumRepoUser']}")
            password("${rootProject['premiumRepoPass']}")
        }
    }
----

. Add the following dependencies to your `build.gradle` file:
+
[source,groovy,indent=0]
----
include::example$/ex1/build.gradle[tags=maps-dep]
----
+
Also, remove `implementation 'io.jmix.ui:jmix-ui-widgets-compiled'` dependency because it is not needed.

. Add the `compileWidgets` task to your `build.gradle` file and specify an arbitrary widgetset name matching the `<base-package>.widgets.<name>` pattern, for example:
+
[source,groovy,indent=0]
----
include::example$/ex1/build.gradle[tags=maps-compile-widgets]
----

. Add the `jmix.ui.widgetSet` property to your `application.properties` file and set the compiled widgetset name in it, for example:
+
[source,properties]
----
include::example$/ex1/src/main/resources/application.properties[tags=maps-widgetset]
----